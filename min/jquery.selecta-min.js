!function($){function e(e){this.el=e,this.orderedValues=[],this.originalValues=[]}e.prototype.get=function(){return this.orderedValues},e.prototype.set=function(){var e=[].join.call(arguments,":");this.orderedValues=this.originalValues.filter(function(s){return e.indexOf(s.value)>=0}),this.redrawDisplayBoxes(),this.redrawSelectedList()},e.prototype.redrawDisplayBoxes=function(){var e="";$(this.orderedValues).each(function(s,t){e+='<span class="label label-info"><span data-v="'+t.value+'">'+t.text+'</span><span class="glyphicon glyphicon-remove"></span></span>'}),$(this.el).next(".selecta-sel").find("> li:first-child").empty().append(e)},e.prototype.redrawSelectedList=function(){var e=$(this.el).next(".selecta-sel").find(".selecta-list");e.find("li").removeClass("selected").show();var s=[];$(this.orderedValues).each(function(e,t){s.push('li[data-v="'+t.value+'"]')}),e.find(s.join(",")).addClass("selected")},e.prototype.init=function(){var e=this,s="";$.each(this.el,function(t,l){s+='<li data-v="'+$(l).val()+'">'+$(l).html()+"</li>",e.originalValues.push({value:$(l).val(),text:$(l).html()})}),$(this.el).hide().after('<ul class="selecta-sel"><li></li><li class="selecta-search"><input class="selecta-search-input" placeholder="Enter text to filter list"><ul class="selecta-list">'+s+"</ul></li></ul>"),$(this.el).siblings(".selecta-sel").find("ul.selecta-list > li").off("click").on("click",function(){$(this).toggleClass("selected").parent().hide();var s=$(this).data("v"),t=$(this).html();$(this).hasClass("selected")?e.orderedValues.push({value:s,text:t}):e.orderedValues=e.orderedValues.filter(function(e){return e.value!==s&&e.text!==t}),e.redrawDisplayBoxes(),$(this).closest(".selecta-sel").find("input.selecta-search-input").val(""),$(e.el).siblings(".selecta-sel").find(".selecta-list > li").show()}),$(this.el).siblings(".selecta-sel").find("input.selecta-search-input").off("focus").on("focus",function(){$(".selecta-list").hide();var e=$(this).siblings(".selecta-list");e.is(":visible")?e.hide():e.show()}).on("focusout",function(){var s=$(this).siblings(".selecta-list");e.dropDownListTimeout=setTimeout(function(){s.hide()},500)}).off("keyup").on("keyup",function(s){var t=$(this).val();if(0===t.length&&"Backspace"===s.key){var l=e.orderedValues.pop();e.redrawDisplayBoxes();var i=$(e.el).siblings(".selecta-sel").find('.selecta-list > li.selected[data-v="'+l.value+'"]');$.each(i,function(e,s){$(s).html()===l.text&&$(s).removeClass("selected")})}else $(e.el).siblings(".selecta-sel").find(".selecta-list > li").each(function(){$(this).text().toUpperCase().search(t.toUpperCase())===-1?$(this).hide():$(this).show()})}),$(this.el).siblings(".selecta-sel").on("click","span.label > span.glyphicon-remove",function(s){s.stopPropagation();var t=$(this).siblings("span"),l=t.data("v"),i=t.text();e.orderedValues=e.orderedValues.filter(function(e){return e.value!==l&&e.text!==i}),e.redrawDisplayBoxes();var a=$(e.el).siblings(".selecta-sel").find('.selecta-list > li.selected[data-v="'+l+'"]');$.each(a,function(e,s){$(s).html()===i&&$(s).removeClass("selected")})})},$.fn.selecta=function(){return this.each(function(){var s=$(this).data("selecta");s||(s=new e(this),$(this).data("selecta",s)),s.init.apply(s,arguments)})}}(jQuery);